{"version":3,"sources":["images/logo.svg","images/delete.svg","images/Error.svg","images/Success.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","utils/constants.js","utils/api.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/App.js","index.js"],"names":["module","exports","Header","userEmail","onQuit","history","useHistory","className","path","src","logo","alt","to","onClick","localStorage","removeItem","push","UserContext","React","createContext","Card","name","link","likes","owner","_id","onCardClick","onCardLike","onCardDelete","loadingIndicator","userInfo","useContext","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","deleteButton","type","disabled","length","Main","onEditProfile","onAddPlace","onEditAvatar","onCardImageClick","cards","avatar","about","map","props","key","Footer","ImagePopup","selectedCard","onClose","PopupWithForm","title","isOpen","buttonText","onSubmit","children","action","method","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","defaultValue","required","autoComplete","id","placeholder","minLength","maxLength","pattern","EditAvatarPopup","onUpdateAvatar","avatarInputRef","useRef","avatarUrl","current","ref","AddPlacePopup","setTitle","setLink","DeletePopup","card","onDeleteCard","baseUrl","handleResponse","result","ok","json","Promise","reject","status","api","fetch","mode","headers","authorization","getItem","then","values","body","JSON","stringify","idCard","token","email","password","res","catch","err","console","log","response","data","setItem","Register","setIsRegisterPopupOpen","setOnFail","setEmail","setPassword","evt","register","success","Login","handleLogin","onFail","error","authorize","message","ProtectedRoute","Component","component","loggedIn","InfoTooltip","Success","Error","App","setLoggedIn","setUserEmail","closeAllPopups","setIsEditAvatarPopupOpen","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","setSelectedCard","SetIsDeleteCardsPopupOpen","jwt","getContent","tokenCheck","all","getInitialCards","cardItems","user","setCurrentUser","setCards","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","isDeleteCardsPopupOpen","isRegisterPopupOpen","currentUser","handleAddPlaceSubmit","setIsLoading","addCards","newCard","finally","deleteCard","setDeleteCard","isloading","Provider","cardCallback","newCards","item","disLikeCards","likeCards","setUserUnfo","changeAvatar","deletedCardId","deleteCards","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oGAAAA,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,oC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,2LCsC5BC,MAlCf,YAAwC,IAAtBC,EAAqB,EAArBA,UAAWC,EAAU,EAAVA,OACrBC,EAAUC,cAQhB,OACE,4BAAQC,UAAU,UAChB,kBAAC,IAAD,CAAOC,KAAK,WACV,yBAAKC,IAAKC,IAAMC,IAAI,6IAA+BJ,UAAU,iBAC7D,kBAAC,IAAD,CAAMA,UAAU,kBAAkBK,GAAG,WAArC,mCAIF,kBAAC,IAAD,CAAOJ,KAAK,WACV,yBAAKC,IAAKC,IAAMC,IAAI,6IAA+BJ,UAAU,iBAC7D,kBAAC,IAAD,CAAMA,UAAU,kBAAkBK,GAAG,WAArC,uEAIF,kBAAC,IAAD,CAAOJ,KAAK,SACV,yBAAKC,IAAKC,IAAMC,IAAI,6IAA+BJ,UAAU,iBAC7D,uBAAGA,UAAU,sBAAsBJ,GACnC,kBAAC,IAAD,CAAMI,UAAU,kBAAkBK,GAAG,UAAUC,QAvBxC,WACXT,IACAU,aAAaC,WAAW,OACxBV,EAAQW,KAAK,YAoBT,qC,yBC5BKC,EAAcC,IAAMC,gBCiElBC,MA/Df,YAUI,IATFC,EASC,EATDA,KACAC,EAQC,EARDA,KACAC,EAOC,EAPDA,MACAC,EAMC,EANDA,MACAC,EAKC,EALDA,IACAC,EAIC,EAJDA,YACAC,EAGC,EAHDA,WACAC,EAEC,EAFDA,aACAC,EACC,EADDA,iBAEMC,EAAWZ,IAAMa,WAAWd,GAE5Be,EAAQR,IAAUM,EAASL,IAC3BQ,EAAyB,0BAC7BD,EAAQ,0BAA4B,0BAGhCE,EAAUX,EAAMY,MAAK,SAACC,GAAD,OAAOA,IAAMN,EAASL,OAC3CY,EAAuB,wBAAoBH,EAAO,uBAA4B,IAcpF,OACE,yBAAK3B,UAAU,WACb,yBACEE,IAAK6B,IACL3B,IAAI,iDACJJ,UAAW0B,EACXpB,QAVN,WACEe,EAAaH,MAWX,yBACEd,IAAI,4NACJJ,UAAU,iBACVE,IAAKa,EACLT,QAxBN,WACEa,EAAY,CAAEL,OAAMC,YAyBlB,yBAAKf,UAAU,8BACb,uBAAGA,UAAU,oBAAoBc,GACjC,yBAAKd,UAAU,2BACb,4BACEgC,KAAK,SACLhC,UAAW8B,EACXxB,QA5BV,WACEc,EAAW,CAAEN,OAAMC,OAAMC,QAAOC,QAAOC,SA4B/Be,SAAUX,IAEZ,uBAAGtB,UAAU,yBAAyBgB,EAAMkB,YCdvCC,MA1Cf,YASI,IARFC,EAQC,EARDA,cACAC,EAOC,EAPDA,WACAC,EAMC,EANDA,aACAC,EAKC,EALDA,iBACAlB,EAIC,EAJDA,aACAD,EAGC,EAHDA,WACAoB,EAEC,EAFDA,MACAlB,EACC,EADDA,iBAEMC,EAAWZ,IAAMa,WAAWd,GAClC,OACE,0BAAMV,UAAU,WACd,6BAASA,UAAU,WACjB,yBAAKA,UAAU,0BAA0BM,QAASgC,GAChD,yBAAKtC,UAAU,4BACf,yBAAKA,UAAU,kBAAkBE,IAAKqB,EAASkB,UAEjD,yBAAKzC,UAAU,iBACb,wBAAIA,UAAU,mBAAmBuB,EAAST,MAC1C,4BAAQkB,KAAK,SAAShC,UAAU,uBAAuBM,QAAS8B,IAChE,uBAAGpC,UAAU,wBAAwBuB,EAASmB,QAEhD,4BAAQV,KAAK,SAAShC,UAAU,sBAAsBM,QAAS+B,KAEjE,6BAASrC,UAAU,YAChBwC,EAAMG,KAAI,gBAAGzB,EAAH,EAAGA,IAAQ0B,EAAX,8BACT,kBAAC,EAAD,eACEC,IAAK3B,EACLA,IAAKA,EACLC,YAAaoB,EACbnB,WAAYA,EACZC,aAAcA,EACdC,iBAAkBA,GACdsB,UC5BDE,MARf,WACE,OACE,4BAAQ9C,UAAU,UAChB,uBAAGA,UAAU,mBAAb,4BCoBS+C,MAvBf,YAAgD,IAA1BC,EAAyB,EAAzBA,aAAcC,EAAW,EAAXA,QAC9BnC,EAAO,GACPC,EAAO,GAMX,OALIiC,IACFlC,EAAOkC,EAAalC,KACpBC,EAAOiC,EAAajC,MAIpB,yBAAKf,UAAS,iCAA4BgD,EAAe,eAAiB,KACxE,4BAAQhD,UAAU,0BAChB,yBAAKI,IAAI,mNAAyCJ,UAAU,eAAeE,IAAKa,IAChF,gCAAYf,UAAU,kBAAkBc,GACxC,4BACEkB,KAAK,SACLhC,UAAU,4CACVM,QAAS2C,OCyBJC,MAzCf,YASI,IARFpC,EAQC,EARDA,KACAqC,EAOC,EAPDA,MACAC,EAMC,EANDA,OACAH,EAKC,EALDA,QACAI,EAIC,EAJDA,WACAC,EAGC,EAHDA,SACAC,EAEC,EAFDA,SACAjC,EACC,EADDA,iBAEA,OACE,yBAAKtB,UAAS,2BAAsBc,EAAtB,YAA8BsC,EAAS,eAAiB,KACpE,yBAAKpD,UAAU,oBACb,wBAAIA,UAAU,gBAAgBmD,GAC9B,0BACEK,OAAO,IACPC,OAAO,OACP3C,KAAK,OACLd,UAAS,kCAA6Bc,GACtCwC,SAAUA,EACVI,YAAU,GAETH,EACD,4BACEvB,KAAK,SACLhC,UAAS,gDAA2Cc,GACpDmB,SAAUX,GAETA,EAAmB,kEAAkB+B,IAG1C,4BACErB,KAAK,SACLhC,UAAS,8CAAyCc,GAClDR,QAAS2C,OC4CJU,MA5Ef,YAAgF,IAApDP,EAAmD,EAAnDA,OAAQH,EAA2C,EAA3CA,QAASW,EAAkC,EAAlCA,aAActC,EAAoB,EAApBA,iBACnDC,EAAWZ,IAAMa,WAAWd,GAD2C,EAGrDC,IAAMkD,SAAS,IAHsC,mBAGtE/C,EAHsE,KAGhEgD,EAHgE,OAIvCnD,IAAMkD,SAAS,IAJwB,mBAItEE,EAJsE,KAIzDC,EAJyD,KA6B7E,OAvBArD,IAAMsD,WAAU,WACdH,EAAQvC,EAAST,MACjBkD,EAAezC,EAASmB,SACvB,CAACnB,IAqBF,kBAAC,EAAD,CACET,KAAK,UACLqC,MAAM,4HACNC,OAAQA,EACRH,QAASA,EACTI,WAAY,yDACZC,SAjBJ,SAAsBY,GAEpBA,EAAEC,iBAEFP,EAAa,CACX9C,OACA4B,MAAOqB,KAYPzC,iBAAkBA,GAElB,oCACE,2BACE8C,MAAOtD,GAAQ,GACfuD,SA/BR,SAA0BH,GACxBJ,EAAQI,EAAEI,OAAOF,QA+BXpC,KAAK,OACLlB,KAAK,OACLd,UAAU,oBACVuE,aAAa,iEACbC,UAAQ,EACRC,aAAa,MACbC,GAAG,aACHC,YAAY,qBACZC,UAAW,EACXC,UAAW,GACXC,QAAQ,oEAEV,0BAAMJ,GAAG,mBAAmB1E,UAAU,UACtC,2BACEoE,MAAOL,GAAe,GACtBM,SA3CR,SAAiCH,GAC/BF,EAAeE,EAAEI,OAAOF,QA2ClBpC,KAAK,OACLlB,KAAK,QACLd,UAAU,oBACVuE,aAAa,sHACbC,UAAQ,EACRC,aAAa,MACbC,GAAG,YACHC,YAAY,8FACZC,UAAW,EACXC,UAAW,MAEb,0BAAMH,GAAG,kBAAkB1E,UAAU,aC9B9B+E,MAzCf,YAAiF,IAAtD3B,EAAqD,EAArDA,OAAQH,EAA6C,EAA7CA,QAAS+B,EAAoC,EAApCA,eAAgB1D,EAAoB,EAApBA,iBACpD2D,EAAiBtE,IAAMuE,SAY7B,OACE,kBAAC,EAAD,CACEpE,KAAK,SACLqC,MAAM,wFACNC,OAAQA,EACRH,QAASA,EACTI,WAAY,yDACZC,SAjBJ,SAAsBY,GAEpBA,EAAEC,iBAEFa,EAAe,CACbG,UAAWF,EAAeG,QAAQhB,QAEpCa,EAAeG,QAAQhB,MAAQ,IAW7B9C,iBAAkBA,GAElB,oCACE,2BACE+D,IAAKJ,EACLjD,KAAK,MACLlB,KAAK,OACL4D,GAAG,eACH1E,UAAU,iCACVwE,UAAQ,EACRC,aAAa,MACbE,YAAY,wFACZC,UAAW,IAEb,0BAAMF,GAAG,qBAAqB1E,UAAU,aC+BjCsF,MAlEf,YAA2E,IAAlDlC,EAAiD,EAAjDA,OAAQH,EAAyC,EAAzCA,QAASZ,EAAgC,EAAhCA,WAAYf,EAAoB,EAApBA,iBAAoB,EAC9CX,IAAMkD,SAAS,IAD+B,mBACjEV,EADiE,KAC1DoC,EAD0D,OAEhD5E,IAAMkD,SAAS,IAFiC,mBAEjE9C,EAFiE,KAE3DyE,EAF2D,KAwBxE,OACE,kBAAC,EAAD,CACE1E,KAAK,OACLqC,MAAM,gEACNC,OAAQA,EACRH,QAASA,EACTI,WAAY,6CACZC,SAnBJ,SAAsBY,GAEpBA,EAAEC,iBAEF9B,EAAW,CACTvB,KAAMqC,EACNpC,SAEFwE,EAAS,IACTC,EAAQ,KAWNlE,iBAAkBA,GAElB,oCACE,2BACE8C,MAAOjB,EACPkB,SAjCR,SAA2BH,GACzBqB,EAASrB,EAAEI,OAAOF,QAiCZpC,KAAK,OACLlB,KAAK,QACLd,UAAU,oBACVwE,UAAQ,EACRC,aAAa,MACbC,GAAG,cACHC,YAAY,mDACZC,UAAW,EACXC,UAAW,KAEb,0BAAMH,GAAG,oBAAoB1E,UAAU,UACvC,2BACEoE,MAAOrD,EACPsD,SA3CR,SAA0BH,GACxBsB,EAAQtB,EAAEI,OAAOF,QA2CXpC,KAAK,MACLlB,KAAK,OACLd,UAAU,oBACVwE,UAAQ,EACRC,aAAa,MACbC,GAAG,aACHC,YAAY,uGAEd,0BAAMD,GAAG,mBAAmB1E,UAAU,aCvC/ByF,MArBf,YAAiF,IAA1DrC,EAAyD,EAAzDA,OAAQH,EAAiD,EAAjDA,QAASyC,EAAwC,EAAxCA,KAAMC,EAAkC,EAAlCA,aAAcrE,EAAoB,EAApBA,iBAQ1D,OACE,kBAAC,EAAD,CACER,KAAK,eACLqC,MAAM,2DACNC,OAAQA,EACRH,QAASA,EACTI,WAAY,eACZC,SAdJ,SAAsBY,GAEpBA,EAAEC,iBAEFwB,EAAaD,IAWXpE,iBAAkBA,K,gBCnBlBsE,EAAU,6CCEVC,EAAiB,SAACC,GACtB,OAAIA,EAAOC,GACFD,EAAOE,OAEPC,QAAQC,OAAR,gDAA0BJ,EAAOK,UAuJtCC,EAAM,I,0GAjJR,OAAOC,MAAM,GAAD,OAAIT,EAAJ,UAAqB,CAC/BnC,OAAQ,MACR6C,KAAM,UACNC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYjG,aAAakG,QAAQ,WAE/CC,KAAKb,K,kCAGEc,GACV,OAAON,MAAM,GAAD,OAAIT,EAAJ,aAAwB,CAClCnC,OAAQ,QACR6C,KAAM,UACNC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYjG,aAAakG,QAAQ,SAEhDG,KAAMC,KAAKC,UAAU,CACnBhG,KAAM6F,EAAO7F,KACb4B,MAAOiE,EAAOjE,UAEfgE,KAAKb,K,+BAGDc,GACP,OAAON,MAAM,GAAD,OAAIT,EAAJ,UAAqB,CAC/BnC,OAAQ,OACR6C,KAAM,UACNC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYjG,aAAakG,QAAQ,SAEhDG,KAAMC,KAAKC,UAAU,CACnBhG,KAAM6F,EAAO7F,KACbC,KAAM4F,EAAO5F,SAEd2F,KAAKb,K,gCAGAkB,GACR,OAAOV,MAAM,GAAD,OAAIT,EAAJ,wBAA2BmB,GAAU,CAC/CtD,OAAQ,MACR6C,KAAM,UACNC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYjG,aAAakG,QAAQ,WAE/CC,KAAKb,K,mCAGGkB,GACX,OAAOV,MAAM,GAAD,OAAIT,EAAJ,wBAA2BmB,GAAU,CAC/CtD,OAAQ,SACR6C,KAAM,UACNC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYjG,aAAakG,QAAQ,WAE/CC,KAAKb,K,kCAGEkB,EAAQC,GAClB,OAAOX,MAAM,GAAD,OAAIT,EAAJ,kBAAqBmB,GAAU,CACzCtD,OAAQ,SACR6C,KAAM,UACNC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYjG,aAAakG,QAAQ,WAE/CC,KAAKb,K,mCAGGc,GACX,OAAON,MAAM,GAAD,OAAIT,EAAJ,oBAA+B,CACzCnC,OAAQ,QACR6C,KAAM,UACNC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYjG,aAAakG,QAAQ,SAEhDG,KAAMC,KAAKC,UAAU,CACnBrE,OAAQkE,EAAOxB,cAEhBuB,KAAKb,K,+BAGDoB,EAAOC,GACd,OAAOb,MAAM,GAAD,OAAIT,EAAJ,WAAsB,CAChCnC,OAAQ,OACR6C,KAAM,UACNC,QAAS,CACP,eAAgB,oBAElBK,KAAMC,KAAKC,UAAU,CAAEG,QAAOC,eAE7BR,MAAK,SAACS,GACL,OAAOA,EAAInB,UAEZU,MAAK,SAACS,GACL,OAAOA,KAERC,OAAM,SAACC,GACNC,QAAQC,IAAIF,Q,gCAIRJ,EAAOC,GACf,OAAOb,MAAM,GAAD,OAAIT,EAAJ,WAAsB,CAChCnC,OAAQ,OACR6C,KAAM,UACNC,QAAS,CACP,eAAgB,oBAElBK,KAAMC,KAAKC,UAAU,CAAEG,QAAOC,eAE7BR,MAAK,SAACc,GAAD,OAAcA,EAASxB,UAC5BU,MAAK,SAACe,GAEL,OADAlH,aAAamH,QAAQ,MAAOD,EAAKT,OAC1BS,KAERL,OAAM,SAACC,GACNC,QAAQC,IAAIF,Q,mCAKhB,OAAOhB,MAAM,GAAD,OAAIT,EAAJ,aAAwB,CAClCnC,OAAQ,MACR6C,KAAM,UACNC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAAD,OAAYjG,aAAakG,QAAQ,WAG/CC,MAAK,SAACS,GACL,OAAOA,EAAInB,UAEZU,MAAK,SAACe,GAAD,OAAUA,KACfL,OAAM,SAACC,GACNC,QAAQC,IAAIF,U,MC7FLM,EArDE,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,uBAAwBC,EAAgB,EAAhBA,UAAgB,EAChChE,mBAAS,IADuB,mBACnDoD,EADmD,KAC5Ca,EAD4C,OAE1BjE,mBAAS,IAFiB,mBAEnDqD,EAFmD,KAEzCa,EAFyC,KAIpDjI,EAAUC,cAoBhB,OACE,yBAAKC,UAAU,QACb,wBAAIA,UAAU,eAAd,sEACA,0BAAMA,UAAU,aAAasD,SArBZ,SAAC0E,GACpBA,EAAI7D,iBACJiC,EACG6B,SAAShB,EAAOC,GAChBR,MAAK,SAACS,GACDA,EAAIe,SACNN,EAAuBT,GACvBU,EAAU,IACV/H,EAAQW,KAAK,YAEbmH,EAAuBT,MAG1BC,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAQZ,2BACErH,UAAU,cACVgC,KAAK,QACL2C,YAAY,QACZH,UAAU,EACVH,SAAU,SAAC2D,GAAD,OAASF,EAASE,EAAI1D,OAAOF,UAEzC,2BACEpE,UAAU,cACVgC,KAAK,WACL2C,YAAY,uCACZH,UAAU,EACVH,SAAU,SAAC2D,GAAD,OAASD,EAAYC,EAAI1D,OAAOF,UAE5C,4BAAQpC,KAAK,SAAShC,UAAU,uBAAhC,gHAGA,kBAAC,IAAD,CAAMA,UAAU,wBAAwBK,GAAG,WAA3C,0JCqBO8H,MAlEf,YAAoD,IAAnCC,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,OAAQR,EAAa,EAAbA,UAAa,EACvBhE,mBAAS,IADc,mBAC1CoD,EAD0C,KACnCa,EADmC,OAEjBjE,mBAAS,IAFQ,mBAE1CqD,EAF0C,KAEhCa,EAFgC,KAI3CjI,EAAUC,cA+BhB,OACE,yBAAKC,UAAU,QACb,wBAAIA,UAAU,eAAd,4BACA,0BAAMA,UAAU,aAAasD,SA3BZ,SAAC0E,GACpBA,EAAI7D,iBAEC8C,GAAUC,GACbI,QAAQgB,MAAM,gOAGhBlC,EACGmC,UAAUtB,EAAOC,GACjBR,MAAK,SAACe,GACDA,EAAKT,OAdbc,EAAS,IACTC,EAAY,IAeNK,IACAP,EAAU,IACV/H,EAAQW,KAAK,UACJgH,EAAKe,SACdX,EAAUJ,EAAKe,YAGlBpB,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAQZ,2BACErH,UAAU,cACVgC,KAAK,QACLwC,UAAU,EACVG,YAAY,QACZN,SAAU,SAAC2D,GAAD,OAASF,EAASE,EAAI1D,OAAOF,UAEzC,yBAAKpE,UAAU,yBACb,2BACEA,UAAU,cACVgC,KAAK,WACL2C,YAAY,uCACZN,SAAU,SAAC2D,GAAD,OAASD,EAAYC,EAAI1D,OAAOF,UAE5C,uBAAGpE,UAAU,qBAAqBqI,IAEpC,4BAAQrG,KAAK,SAAShC,UAAU,uBAAhC,kCAGA,kBAAC,IAAD,CAAMA,UAAU,wBAAwBK,GAAG,WAA3C,2MCrDOoI,EARQ,SAAC,GAAwC,IAA3BC,EAA0B,EAArCC,UAAyB/F,EAAY,6BAC7D,OACE,kBAAC,IAAD,MACG,kBAA0B,IAAnBA,EAAMgG,SAAoB,kBAACF,EAAc9F,GAAY,kBAAC,IAAD,CAAUvC,GAAG,iB,kCCoBjEwI,EAtBK,SAAC,GAAyB,IAAvBzF,EAAsB,EAAtBA,OAAQH,EAAc,EAAdA,QAC7B,OACE,yBAAKjD,UAAS,mCAA8BoD,EAAS,eAAiB,KACpE,yBAAKpD,UAAU,kDACb,yBACEI,IAAI,wHACJJ,UAAU,eACVE,IAAKkD,EAAO8E,QAAUY,IAAUC,MAElC,wBAAI/I,UAAU,0CACXoD,EAAO8E,QAAU,wKAAmC9E,EAAOoF,SAE9D,4BACExG,KAAK,SACLhC,UAAS,8CACTM,QAAS2C,OCiRJ+F,MAjRf,WAAgB,IAAD,EACmBnF,oBAAS,GAD5B,mBACN+E,EADM,KACIK,EADJ,OAEqBpF,mBAAS,IAF9B,mBAENjE,EAFM,KAEKsJ,EAFL,OAGerF,mBAAS,IAHxB,mBAGNwE,EAHM,KAGER,EAHF,KAKP/H,EAAUC,cAsEhB,SAASoJ,IAEPC,GAAyB,GACzBC,GAA0B,GAC1BC,GAAuB,GACvBC,GAAgB,MAChBC,GAA0B,GAC1B5B,GAAuB,GAtDzB3D,qBAAU,YArBS,WACjB,IAAMwF,EAAMlJ,aAAakG,QAAQ,OAC7BgD,GACFrD,EACGsD,WAAWD,GACX/C,MAAK,SAACS,GACDA,GACF8B,GAAY,GACZC,EAAa/B,EAAIF,OACjBnH,EAAQW,KAAK,WAEbwI,GAAY,GACZ1I,aAAaC,WAAW,WAG3B4G,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAMlBsC,KACC,CAACf,EAAU9I,IAEdmE,qBAAU,WACRgC,QAAQ2D,IAAI,CAACxD,EAAIyD,kBAAmBzD,EAAIsD,eACrChD,MAAK,YAAwB,IAAD,mBAArBoD,EAAqB,KAAVC,EAAU,KAC3BC,GAAeD,GACfE,GAASH,MAGV1C,OAAM,SAACC,GAAD,OAASC,QAAQgB,MAAMjB,QAE/B,CAACuB,IAzCS,MAqF+C/E,oBAAS,GArFxD,mBAqFNqG,EArFM,KAqFkBb,EArFlB,OAsFyCxF,oBAAS,GAtFlD,mBAsFNsG,EAtFM,KAsFeb,EAtFf,OAuF6CzF,oBAAS,GAvFtD,mBAuFNuG,EAvFM,KAuFiBhB,EAvFjB,OAwF+CvF,oBAAS,GAxFxD,mBAwFNwG,EAxFM,KAwFkBb,EAxFlB,OAyFyC3F,oBAAS,GAzFlD,mBAyFNyG,EAzFM,KAyFe1C,EAzFf,OA2F2B/D,mBAAS,MA3FpC,oBA2FNb,GA3FM,MA2FQuG,GA3FR,SA6FyB1F,mBAAS,CAE7C/C,KAAM,GACN4B,MAAO,GACPD,OAAQ,GACRvB,IAAK,KAlGM,qBA6FNqJ,GA7FM,MA6FOP,GA7FP,SAkHanG,mBAAS,IAlHtB,qBAkHNrB,GAlHM,MAkHCyH,GAlHD,MAoHb,SAASO,GAAqB7D,GAE5B8D,IAAa,GACbrE,EACGsE,SAAS/D,GACTD,MAAK,SAACiE,GACLV,GAAS,CAACU,GAAF,mBAAcnI,MACtB2G,OAEDyB,SAAQ,kBAAMH,IAAa,MA7HnB,OAiJuB9J,IAAMkD,SAAS,IAjJtC,qBAiJNgH,GAjJM,MAiJMC,GAjJN,SAwMqBnK,IAAMkD,UAAS,GAxMpC,qBAwMNkH,GAxMM,MAwMKN,GAxML,MA0Mb,OACE,kBAAC/J,EAAYsK,SAAb,CAAsB5G,MAAOmG,IAC3B,yBAAKvK,UAAU,QACb,yBAAKA,UAAU,QACb,kBAAC,EAAD,CAAQJ,UAAWA,EAAWC,OAjBtC,WACEoJ,GAAY,GACZe,GAAe,CACblJ,KAAM,GACN4B,MAAO,GACPD,OAAQ,GACRvB,IAAK,KAEPoG,QAAQC,IAAIgD,OAUN,kBAAC,IAAD,KACE,kBAAC,EAAD,CACEtK,KAAK,QACL2I,SAAUA,EACVD,UAAWxG,EACXb,iBAAkByJ,GAClB3I,cAjKZ,WAEEiH,GAA0B,IAgKhBhH,WA7JZ,WAEEiH,GAAuB,IA4JbhH,aAxKZ,WAEE8G,GAAyB,IAuKf7G,iBArJZ,SAAyBmD,GAEvB6D,GAAgB,CACdzI,KAAM4E,EAAK5E,KACXC,KAAM2E,EAAK3E,QAkJHK,WAzFZ,SAAwBwB,GAEtB6H,IAAa,GACb,IACMQ,EAAe,SAACN,GACpB,IAAMO,EAAW1I,GAAMG,KAAI,SAACwI,GAAD,OAAWA,EAAKjK,MAAQ0B,EAAM1B,IAAMyJ,EAAUQ,KACzElB,GAASiB,GACTT,IAAa,IAJC7H,EAAM5B,MAAMY,MAAK,SAACC,GAAD,OAAOA,IAAM0I,GAAYrJ,OAUxDkF,EAAIgF,aAAaxI,EAAM1B,KAAKwF,KAAKuE,GAFjC7E,EAAIiF,UAAUzI,EAAM1B,KAAKwF,KAAKuE,IA+EtB5J,aAvEZ,SAA0BuB,GAnFxB4G,GAA0B,GAsF1BsB,GAAclI,GACd0E,QAAQC,IAAIsD,KAoEFrI,MAAOA,KAET,kBAAC,IAAD,CAAOvC,KAAK,WACV,kBAAC,EAAD,CACE2H,uBAAwBA,EACxBxE,OAAQkH,EACRzC,UAAWA,KAGf,kBAAC,IAAD,CAAO5H,KAAK,WACV,kBAAC,EAAD,CAAOmI,YA1LC,WAClBa,GAAY,IAyL+BZ,OAAQA,EAAQR,UAAWA,KAE9D,kBAAC,IAAD,KAAQe,EAAW,kBAAC,IAAD,CAAUvI,GAAG,UAAa,kBAAC,IAAD,CAAUA,GAAG,cAE5D,kBAAC,EAAD,MAEA,kBAAC,EAAD,CAAa+C,OAAQkH,EAAqBrH,QAASkG,IACnD,kBAAC,EAAD,CACE/F,OAAQ8G,EACRjH,QAASkG,EACTvF,aA1EV,SAA0B+C,GAExB8D,IAAa,GACbrE,EACGkF,YAAY3E,GACZD,MAAK,SAACS,GACL6C,GAAe7C,GACfgC,OAEDyB,SAAQ,kBAAMH,IAAa,OAkEtBnJ,iBAAkByJ,KAEpB,kBAAC,EAAD,CACE3H,OAAQ+G,EACRlH,QAASkG,EACT9G,WAAYmI,GACZlJ,iBAAkByJ,KAEpB,kBAAC,EAAD,CACE3H,OAAQgH,EACRnH,QAASkG,EACTnE,eA1EV,SAA4B2B,GAE1B8D,IAAa,GACbrE,EACGmF,aAAa5E,GACbD,MAAK,SAACS,GACL6C,GAAe7C,GACfgC,OAEDyB,SAAQ,kBAAMH,IAAa,OAkEtBnJ,iBAAkByJ,KAEpB,kBAAC,EAAD,CACE/H,aAAcA,GACdC,QAASkG,EACT9G,WAAYmI,GACZlJ,iBAAkByJ,KAEpB,kBAAC,EAAD,CACE3H,OAAQiH,EACRpH,QAASkG,EACTzD,KAAMmF,GACNlF,aA9GV,SAAqB6F,GAEnBf,IAAa,GACbrE,EAAIqF,YAAYD,GAAe9E,MAAK,WAClC,IAAMwE,EAAW1I,GAAMkJ,QAAO,SAAChG,GAAD,OAAUA,EAAKxE,KAAOsK,KACpDvB,GAASiB,GACTT,IAAa,GACbtB,QAwGM7H,iBAAkByJ,SCtR9BY,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,KACE,kBAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.c52ff148.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.4220563a.svg\";","module.exports = __webpack_public_path__ + \"static/media/Error.4072126c.svg\";","module.exports = __webpack_public_path__ + \"static/media/Success.e38b395c.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\nimport { Route, Link, useHistory } from 'react-router-dom';\n\nfunction Header({ userEmail, onQuit }) {\n  const history = useHistory();\n\n  const quit = () => {\n    onQuit();\n    localStorage.removeItem('jwt');\n    history.push('/login');\n  };\n\n  return (\n    <header className='header'>\n      <Route path='/signup'>\n        <img src={logo} alt='здесь должен быть логотип :)' className='header__logo' />\n        <Link className='header__caption' to='/signin'>\n          Войти\n        </Link>\n      </Route>\n      <Route path='/signin'>\n        <img src={logo} alt='здесь должен быть логотип :)' className='header__logo' />\n        <Link className='header__caption' to='/signup'>\n          Регистрация\n        </Link>\n      </Route>\n      <Route path='/main'>\n        <img src={logo} alt='здесь должен быть логотип :)' className='header__logo' />\n        <p className='header__user-email'>{userEmail}</p>\n        <Link className='header__caption' to='/signin' onClick={quit}>\n          Выйти\n        </Link>\n      </Route>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const UserContext = React.createContext();\n","import React from 'react';\nimport deleteButton from '../images/delete.svg';\nimport { UserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card({\n  name,\n  link,\n  likes,\n  owner,\n  _id,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n  loadingIndicator,\n}) {\n  const userInfo = React.useContext(UserContext);\n\n  const isOwn = owner === userInfo._id;\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? 'element__delete_visible' : 'element__delete_hidden'\n  }`;\n\n  const isLiked = likes.some((i) => i === userInfo._id);\n  const cardLikeButtonClassName = `element__like ${isLiked ? `element__like_active` : ''}`;\n\n  function handleClick() {\n    onCardClick({ name, link });\n  }\n\n  function handleLikeClick() {\n    onCardLike({ name, link, likes, owner, _id });\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(_id);\n  }\n\n  return (\n    <div className='element'>\n      <img\n        src={deleteButton}\n        alt='кнопка delete :)'\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      />\n      <img\n        alt='Упс, кажется вы вставили не рабочую ссылку'\n        className='element__photo'\n        src={link}\n        onClick={handleClick}\n      />\n      <div className='element__capture-container'>\n        <p className='element__capture'>{name}</p>\n        <div className='element__like-container'>\n          <button\n            type='button'\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n            disabled={loadingIndicator}\n          />\n          <p className='element__like-counter'>{likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\r\nimport Card from './Card';\r\nimport { UserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardImageClick,\r\n  onCardDelete,\r\n  onCardLike,\r\n  cards,\r\n  loadingIndicator,\r\n}) {\r\n  const userInfo = React.useContext(UserContext);\r\n  return (\r\n    <main className='content'>\r\n      <section className='profile'>\r\n        <div className='profile__avatar-wrapper' onClick={onEditAvatar}>\r\n          <div className='profile__avatar-overlay'></div>\r\n          <img className='profile__avatar' src={userInfo.avatar} />\r\n        </div>\r\n        <div className='profile__info'>\r\n          <h2 className='profile__author'>{userInfo.name}</h2>\r\n          <button type='button' className='profile__edit-button' onClick={onEditProfile} />\r\n          <p className='profile__description'>{userInfo.about}</p>\r\n        </div>\r\n        <button type='button' className='profile__add-button' onClick={onAddPlace} />\r\n      </section>\r\n      <section className='elements'>\r\n        {cards.map(({ _id, ...props }) => (\r\n          <Card\r\n            key={_id}\r\n            _id={_id}\r\n            onCardClick={onCardImageClick}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete}\r\n            loadingIndicator={loadingIndicator}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className='footer'>\n      <p className='footer__capture'>© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup({ selectedCard, onClose }) {\n  let name = '';\n  let link = '';\n  if (selectedCard) {\n    name = selectedCard.name;\n    link = selectedCard.link;\n  }\n\n  return (\n    <div className={`popup popup_type_image ${selectedCard ? 'popup_opened' : ''}`}>\n      <figure className='popup__container-image'>\n        <img alt='здесь должна быть увеличенная картинка' className='popup__image' src={link} />\n        <figcaption className='popup__capture'>{name}</figcaption>\n        <button\n          type='button'\n          className='popup__close-icon popup__close-icon_image'\n          onClick={onClose}\n        />\n      </figure>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm({\n  name,\n  title,\n  isOpen,\n  onClose,\n  buttonText,\n  onSubmit,\n  children,\n  loadingIndicator,\n}) {\n  return (\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\n      <div className='popup__container'>\n        <h2 className='popup__title'>{title}</h2>\n        <form\n          action='#'\n          method='POST'\n          name='form'\n          className={`popup__form popup__form_${name}`}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          {children}\n          <button\n            type='submit'\n            className={`popup__save-button popup__save-button_${name}`}\n            disabled={loadingIndicator}\n          >\n            {loadingIndicator ? 'Сохранение...' : buttonText}\n          </button>\n        </form>\n        <button\n          type='button'\n          className={`popup__close-icon popup__close-icon_${name}`}\n          onClick={onClose}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { UserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, loadingIndicator }) {\n  const userInfo = React.useContext(UserContext);\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(userInfo.name);\n    setDescription(userInfo.about);\n  }, [userInfo]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name='profile'\n      title='Редактировать профиль'\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonText={'Сохранить'}\n      onSubmit={handleSubmit}\n      loadingIndicator={loadingIndicator}\n    >\n      <>\n        <input\n          value={name || ''}\n          onChange={handleChangeName}\n          type='text'\n          name='name'\n          className='popup__form-input'\n          defaultValue='Жак-Ив Кусто'\n          required\n          autoComplete='off'\n          id='name-input'\n          placeholder='Имя'\n          minLength={2}\n          maxLength={40}\n          pattern='[А-ЯЁа-яёA-Za-z-–—\\s]*'\n        />\n        <span id='name-input-error' className='error' />\n        <input\n          value={description || ''}\n          onChange={handleChangeDescription}\n          type='text'\n          name='about'\n          className='popup__form-input'\n          defaultValue='Исследователь океана'\n          required\n          autoComplete='off'\n          id='job-input'\n          placeholder='Род деятельности'\n          minLength={2}\n          maxLength={200}\n        />\n        <span id='job-input-error' className='error' />\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, loadingIndicator }) {\n  const avatarInputRef = React.useRef();\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateAvatar({\n      avatarUrl: avatarInputRef.current.value,\n    });\n    avatarInputRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm\n      name='avatar'\n      title='Изменить аватар'\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonText={'Сохранить'}\n      onSubmit={handleSubmit}\n      loadingIndicator={loadingIndicator}\n    >\n      <>\n        <input\n          ref={avatarInputRef}\n          type='url'\n          name='link'\n          id='avatar-input'\n          className='popup__form-input single-input'\n          required\n          autoComplete='off'\n          placeholder='Вставьте ссылку'\n          minLength={2}\n        />\n        <span id='avatar-input-error' className='error' />\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, loadingIndicator }) {\n  const [title, setTitle] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleChangeTitle(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onAddPlace({\n      name: title,\n      link,\n    });\n    setTitle('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm\n      name='card'\n      title='Новое место'\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonText={'Создать'}\n      onSubmit={handleSubmit}\n      loadingIndicator={loadingIndicator}\n    >\n      <>\n        <input\n          value={title}\n          onChange={handleChangeTitle}\n          type='text'\n          name='title'\n          className='popup__form-input'\n          required\n          autoComplete='off'\n          id='title-input'\n          placeholder='Название'\n          minLength={1}\n          maxLength={30}\n        />\n        <span id='title-input-error' className='error' />\n        <input\n          value={link}\n          onChange={handleChangeLink}\n          type='url'\n          name='link'\n          className='popup__form-input'\n          required\n          autoComplete='off'\n          id='link-input'\n          placeholder='Ссылка на картинку'\n        />\n        <span id='link-input-error' className='error' />\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeletePopup({ isOpen, onClose, card, onDeleteCard, loadingIndicator }) {\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onDeleteCard(card);\n  }\n\n  return (\n    <PopupWithForm\n      name='delete-cards'\n      title='Вы уверены?'\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonText={'Да'}\n      onSubmit={handleSubmit}\n      loadingIndicator={loadingIndicator}\n    ></PopupWithForm>\n  );\n}\n\nexport default DeletePopup;\n","const baseUrl = 'http://api.white.students.nomoreparties.co';\r\n\r\nexport { baseUrl };\r\n","import { baseUrl } from './constants.js';\r\n\r\nconst handleResponse = (result) => {\r\n  if (result.ok) {\r\n    return result.json();\r\n  } else {\r\n    return Promise.reject(`Ошибка: ${result.status}`);\r\n  }\r\n};\r\n\r\nclass Api {\r\n  getInitialCards() {\r\n    return fetch(`${baseUrl}/cards`, {\r\n      method: 'GET',\r\n      mode: 'no-cors',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\r\n      },\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  setUserUnfo(values) {\r\n    return fetch(`${baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      mode: 'no-cors',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n      },\r\n      body: JSON.stringify({\r\n        name: values.name,\r\n        about: values.about,\r\n      }),\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  addCards(values) {\r\n    return fetch(`${baseUrl}/cards`, {\r\n      method: 'POST',\r\n      mode: 'no-cors',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n      },\r\n      body: JSON.stringify({\r\n        name: values.name,\r\n        link: values.link,\r\n      }),\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  likeCards(idCard) {\r\n    return fetch(`${baseUrl}/cards/likes/${idCard}`, {\r\n      method: 'PUT',\r\n      mode: 'no-cors',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\r\n      },\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  disLikeCards(idCard) {\r\n    return fetch(`${baseUrl}/cards/likes/${idCard}`, {\r\n      method: 'DELETE',\r\n      mode: 'no-cors',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\r\n      },\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  deleteCards(idCard, token) {\r\n    return fetch(`${baseUrl}/cards/${idCard}`, {\r\n      method: 'DELETE',\r\n      mode: 'no-cors',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\r\n      },\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  changeAvatar(values) {\r\n    return fetch(`${baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      mode: 'no-cors',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: values.avatarUrl,\r\n      }),\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  register(email, password) {\r\n    return fetch(`${baseUrl}/signup`, {\r\n      method: 'POST',\r\n      mode: 'no-cors',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        return res;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  authorize(email, password) {\r\n    return fetch(`${baseUrl}/signin`, {\r\n      method: 'POST',\r\n      mode: 'no-cors',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        localStorage.setItem('jwt', data.token);\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  getContent() {\r\n    return fetch(`${baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      mode: 'no-cors',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => data)\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n}\r\n\r\nconst api = new Api();\r\n\r\nexport { api };\r\n","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { api } from '../utils/api.js';\r\n// import { register } from '../utils/mestoAuth.js';\r\n\r\nconst Register = ({ setIsRegisterPopupOpen, setOnFail }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    api\r\n      .register(email, password)\r\n      .then((res) => {\r\n        if (res.success) {\r\n          setIsRegisterPopupOpen(res);\r\n          setOnFail('');\r\n          history.push('/signin');\r\n        } else {\r\n          setIsRegisterPopupOpen(res);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <h2 className='auth__title'>Регистрация</h2>\r\n      <form className='auth__form' onSubmit={handleSubmit}>\r\n        <input\r\n          className='auth__input'\r\n          type='email'\r\n          placeholder='Email'\r\n          required={true}\r\n          onChange={(evt) => setEmail(evt.target.value)}\r\n        />\r\n        <input\r\n          className='auth__input'\r\n          type='password'\r\n          placeholder='Пароль'\r\n          required={true}\r\n          onChange={(evt) => setPassword(evt.target.value)}\r\n        />\r\n        <button type='submit' className='auth__submit-button'>\r\n          Зарегистрироваться\r\n        </button>\r\n        <Link className='auth__link-to-sign-in' to='/signin'>\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { api } from '../utils/api.js';\r\n// import { authorize } from '../utils/mestoAuth.js';\r\n\r\nfunction Login({ handleLogin, onFail, setOnFail }) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const resetForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    if (!email || !password) {\r\n      console.error('Не заполнены некоторые обязательные поля');\r\n    }\r\n\r\n    api\r\n      .authorize(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          resetForm();\r\n          handleLogin();\r\n          setOnFail('');\r\n          history.push('/main');\r\n        } else if (data.message) {\r\n          setOnFail(data.message);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <h2 className='auth__title'>Вход</h2>\r\n      <form className='auth__form' onSubmit={handleSubmit}>\r\n        <input\r\n          className='auth__input'\r\n          type='email'\r\n          required={true}\r\n          placeholder='Email'\r\n          onChange={(evt) => setEmail(evt.target.value)}\r\n        />\r\n        <div className='auth__input-container'>\r\n          <input\r\n            className='auth__input'\r\n            type='password'\r\n            placeholder='Пароль'\r\n            onChange={(evt) => setPassword(evt.target.value)}\r\n          />\r\n          <p className='auth__error-field'>{onFail}</p>\r\n        </div>\r\n        <button type='submit' className='auth__submit-button'>\r\n          Войти\r\n        </button>\r\n        <Link className='auth__link-to-sign-in' to='/signup'>\r\n          Ещё не зарегистрированы? Регистрация\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() => (props.loggedIn === true ? <Component {...props} /> : <Redirect to='./signin' />)}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport Error from '../images/Error.svg';\nimport Success from '../images/Success.svg';\n\nconst InfoTooltip = ({ isOpen, onClose }) => {\n  return (\n    <div className={`popup popup_type_tooltip ${isOpen ? 'popup_opened' : ''}`}>\n      <div className='popup__container popup__container_type_tooltip'>\n        <img\n          alt='тут должна быть иконка'\n          className='popup__image'\n          src={isOpen.success ? Success : Error}\n        />\n        <h2 className='popup__title popup__title_type_tooltip'>\n          {isOpen.success ? 'Вы успешно зарегистрировались!' : isOpen.message}\n        </h2>\n        <button\n          type='button'\n          className={`popup__close-icon popup__close-icon_tooltip`}\n          onClick={onClose}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default InfoTooltip;\n","import React from 'react';\r\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeletePopup from './DeletePopup';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\n// import { getContent } from '../utils/mestoAuth.js';\r\nimport { api } from '../utils/api.js';\r\nimport { UserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction App() {\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [userEmail, setUserEmail] = useState('');\r\n  const [onFail, setOnFail] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const tokenCheck = () => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      api\r\n        .getContent(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            setUserEmail(res.email);\r\n            history.push('/main');\r\n          } else {\r\n            setLoggedIn(false);\r\n            localStorage.removeItem('jwt')\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    tokenCheck();\r\n  }, [loggedIn, history]);\r\n\r\n  useEffect(() => {\r\n    Promise.all([api.getInitialCards(), api.getContent()])\r\n      .then(([cardItems, user]) => {\r\n        setCurrentUser(user)\r\n        setCards(cardItems);\r\n      }\r\n      )\r\n      .catch((err) => console.error(err));\r\n\r\n  }, [loggedIn]);\r\n\r\n  const handleLogin = () => {\r\n    setLoggedIn(true);\r\n  };\r\n\r\n  function handleEditAvatarClick() {\r\n    //открывает попап с аватаром\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    //открывает попап с профилем\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    //открывает попап с добавлением карточки\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleDeleteCardsClick() {\r\n    //открывает попап с подтверждением удаления карточки\r\n    SetIsDeleteCardsPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    //открывает попап с увеличенной фотографией\r\n    setSelectedCard({\r\n      name: card.name,\r\n      link: card.link,\r\n    });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    //закрывает все попапы\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n    SetIsDeleteCardsPopupOpen(false);\r\n    setIsRegisterPopupOpen(false);\r\n  }\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false); // хуки состояния для открытия//закрытия попапов\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isDeleteCardsPopupOpen, SetIsDeleteCardsPopupOpen] = useState(false);\r\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = useState(false);\r\n\r\n  const [selectedCard, setSelectedCard] = useState(null); // хук состояния, запоминающий выбранную карточку, на фотографию которой нажали\r\n\r\n  const [currentUser, setCurrentUser] = useState({\r\n    // хук, содержащий информцию о пользователе\r\n    name: '',\r\n    about: '',\r\n    avatar: '',\r\n    _id: '',\r\n  });\r\n\r\n  // React.useEffect(() => {\r\n  //   //получение карточек с сервера\r\n  //   api\r\n  //     .getInitialCards()\r\n  //     .then((data) => {\r\n  //       console.log(data)\r\n  //       setCards(data);\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       console.log(error);\r\n  //     });\r\n  // }, [loggedIn]);\r\n\r\n  const [cards, setCards] = useState([]); // актуальный массив с карточками\r\n\r\n  function handleAddPlaceSubmit(values) {\r\n    //добавление новой карточки\r\n    setIsLoading(true);\r\n    api\r\n      .addCards(values)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleCardLike(props) {\r\n    //лайк/дизлайк карточки\r\n    setIsLoading(true);\r\n    const isLiked = props.likes.some((i) => i === currentUser._id);\r\n    const cardCallback = (newCard) => {\r\n      const newCards = cards.map((item) => (item._id === props._id ? newCard : item));\r\n      setCards(newCards);\r\n      setIsLoading(false);\r\n    };\r\n\r\n    if (!isLiked) {\r\n      api.likeCards(props._id).then(cardCallback);\r\n    } else {\r\n      api.disLikeCards(props._id).then(cardCallback);\r\n    }\r\n  }\r\n\r\n  const [deleteCard, setDeleteCard] = React.useState({});\r\n\r\n  function handleCardDelete(props) {\r\n    // удаление карточки\r\n    handleDeleteCardsClick();\r\n    setDeleteCard(props);\r\n    console.log(deleteCard);\r\n  }\r\n\r\n  function deletedCard(deletedCardId) {\r\n    // удаление карточки\r\n    setIsLoading(true);\r\n    api.deleteCards(deletedCardId).then(() => {\r\n      const newCards = cards.filter((card) => card._id != deletedCardId);\r\n      setCards(newCards);\r\n      setIsLoading(false);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleUpdateUser(values) {\r\n    // изменение информции пользователя\r\n    setIsLoading(true);\r\n    api\r\n      .setUserUnfo(values)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleUpdateAvatar(values) {\r\n    // изменение аватара\r\n    setIsLoading(true);\r\n    api\r\n      .changeAvatar(values)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  function handleLogout() {\r\n    setLoggedIn(false);\r\n    setCurrentUser({\r\n      name: '',\r\n      about: '',\r\n      avatar: '',\r\n      _id: '',\r\n    });\r\n    console.log(currentUser);\r\n  }\r\n\r\n  const [isloading, setIsLoading] = React.useState(false);\r\n\r\n  return (\r\n    <UserContext.Provider value={currentUser}>\r\n      <div className='body'>\r\n        <div className='page'>\r\n          <Header userEmail={userEmail} onQuit={handleLogout} />\r\n          <Switch>\r\n            <ProtectedRoute\r\n              path='/main'\r\n              loggedIn={loggedIn}\r\n              component={Main}\r\n              loadingIndicator={isloading}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onCardImageClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n              cards={cards}\r\n            />\r\n            <Route path='/signup'>\r\n              <Register\r\n                setIsRegisterPopupOpen={setIsRegisterPopupOpen}\r\n                isOpen={isRegisterPopupOpen}\r\n                setOnFail={setOnFail}\r\n              />\r\n            </Route>\r\n            <Route path='/signin'>\r\n              <Login handleLogin={handleLogin} onFail={onFail} setOnFail={setOnFail} />\r\n            </Route>\r\n            <Route>{loggedIn ? <Redirect to='/main' /> : <Redirect to='/signin' />}</Route>\r\n          </Switch>\r\n          <Footer />\r\n\r\n          <InfoTooltip isOpen={isRegisterPopupOpen} onClose={closeAllPopups} />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n            loadingIndicator={isloading}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            loadingIndicator={isloading}\r\n          />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            loadingIndicator={isloading}\r\n          />\r\n          <ImagePopup\r\n            selectedCard={selectedCard}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            loadingIndicator={isloading}\r\n          />\r\n          <DeletePopup\r\n            isOpen={isDeleteCardsPopupOpen}\r\n            onClose={closeAllPopups}\r\n            card={deleteCard}\r\n            onDeleteCard={deletedCard}\r\n            loadingIndicator={isloading}\r\n          />\r\n        </div>\r\n      </div>\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}