{"version":3,"sources":["images/logo.svg","images/delete.svg","images/Error.svg","images/Success.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","utils/constants.js","utils/api.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/App.js","index.js"],"names":["module","exports","Header","userEmail","onQuit","history","useHistory","className","path","src","logo","alt","to","onClick","localStorage","removeItem","push","UserContext","React","createContext","Card","name","link","likes","owner","_id","onCardClick","onCardLike","onCardDelete","loadingIndicator","userInfo","useContext","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","deleteButton","type","disabled","length","Main","onEditProfile","onAddPlace","onEditAvatar","onCardImageClick","cards","avatar","about","map","props","key","Footer","ImagePopup","selectedCard","onClose","PopupWithForm","title","isOpen","buttonText","onSubmit","children","action","method","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","defaultValue","required","autoComplete","id","placeholder","minLength","maxLength","pattern","EditAvatarPopup","onUpdateAvatar","avatarInputRef","useRef","avatarUrl","current","ref","AddPlacePopup","setTitle","setLink","DeletePopup","card","onDeleteCard","baseUrl","handleResponse","result","ok","json","Promise","reject","status","api","fetch","headers","authorization","getItem","then","values","body","JSON","stringify","idCard","token","email","password","res","catch","err","console","log","response","data","setItem","Register","setIsRegisterPopupOpen","setOnFail","setEmail","setPassword","evt","register","success","Login","handleLogin","onFail","error","authorize","message","ProtectedRoute","Component","component","loggedIn","InfoTooltip","Success","Error","App","setLoggedIn","setUserEmail","closeAllPopups","setIsEditAvatarPopupOpen","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","setSelectedCard","SetIsDeleteCardsPopupOpen","jwt","getContent","setCurrentUser","tokenCheck","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","isDeleteCardsPopupOpen","isRegisterPopupOpen","currentUser","getInitialCards","setCards","handleAddPlaceSubmit","setIsLoading","addCards","newCard","finally","deleteCard","setDeleteCard","isloading","Provider","cardCallback","newCards","item","disLikeCards","likeCards","setUserUnfo","changeAvatar","deletedCardId","deleteCards","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2ccab12a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.9c3b03ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/Error.c32299fa.svg\";","module.exports = __webpack_public_path__ + \"static/media/Success.7fc4c149.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\nimport { Route, Link, useHistory } from 'react-router-dom';\n\nfunction Header({ userEmail, onQuit }) {\n  const history = useHistory();\n\n  const quit = () => {\n    onQuit();\n    localStorage.removeItem('jwt');\n    history.push('/login');\n  };\n\n  return (\n    <header className='header'>\n      <Route path='/signup'>\n        <img src={logo} alt='здесь должен быть логотип :)' className='header__logo' />\n        <Link className='header__caption' to='/signin'>\n          Войти\n        </Link>\n      </Route>\n      <Route path='/signin'>\n        <img src={logo} alt='здесь должен быть логотип :)' className='header__logo' />\n        <Link className='header__caption' to='/signup'>\n          Регистрация\n        </Link>\n      </Route>\n      <Route path='/main'>\n        <img src={logo} alt='здесь должен быть логотип :)' className='header__logo' />\n        <p className='header__user-email'>{userEmail}</p>\n        <Link className='header__caption' to='/signin' onClick={quit}>\n          Выйти\n        </Link>\n      </Route>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const UserContext = React.createContext();\n","import React from 'react';\nimport deleteButton from '../images/delete.svg';\nimport { UserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card({\n  name,\n  link,\n  likes,\n  owner,\n  _id,\n  onCardClick,\n  onCardLike,\n  onCardDelete,\n  loadingIndicator,\n}) {\n  const userInfo = React.useContext(UserContext);\n\n  const isOwn = owner === userInfo._id;\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? 'element__delete_visible' : 'element__delete_hidden'\n  }`;\n\n  const isLiked = likes.some((i) => i === userInfo._id);\n  const cardLikeButtonClassName = `element__like ${isLiked ? `element__like_active` : ''}`;\n\n  function handleClick() {\n    onCardClick({ name, link });\n  }\n\n  function handleLikeClick() {\n    onCardLike({ name, link, likes, owner, _id });\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(_id);\n  }\n\n  return (\n    <div className='element'>\n      <img\n        src={deleteButton}\n        alt='кнопка delete :)'\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      />\n      <img\n        alt='Упс, кажется вы вставили не рабочую ссылку'\n        className='element__photo'\n        src={link}\n        onClick={handleClick}\n      />\n      <div className='element__capture-container'>\n        <p className='element__capture'>{name}</p>\n        <div className='element__like-container'>\n          <button\n            type='button'\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n            disabled={loadingIndicator}\n          />\n          <p className='element__like-counter'>{likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { UserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Main({\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  onCardImageClick,\n  onCardDelete,\n  onCardLike,\n  cards,\n  loadingIndicator,\n}) {\n  const userInfo = React.useContext(UserContext);\n  return (\n    <main className='content'>\n      <section className='profile'>\n        <div className='profile__avatar-wrapper' onClick={onEditAvatar}>\n          <div className='profile__avatar-overlay'></div>\n          <img className='profile__avatar' src={userInfo.avatar} />\n        </div>\n        <div className='profile__info'>\n          <h2 className='profile__author'>{userInfo.name}</h2>\n          <button type='button' className='profile__edit-button' onClick={onEditProfile} />\n          <p className='profile__description'>{userInfo.about}</p>\n        </div>\n        <button type='button' className='profile__add-button' onClick={onAddPlace} />\n      </section>\n      <section className='elements'>\n        {cards.map(({ _id, ...props }) => (\n          <Card\n            key={_id}\n            _id={_id}\n            onCardClick={onCardImageClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n            loadingIndicator={loadingIndicator}\n            {...props}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className='footer'>\n      <p className='footer__capture'>© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup({ selectedCard, onClose }) {\n  let name = '';\n  let link = '';\n  if (selectedCard) {\n    name = selectedCard.name;\n    link = selectedCard.link;\n  }\n\n  return (\n    <div className={`popup popup_type_image ${selectedCard ? 'popup_opened' : ''}`}>\n      <figure className='popup__container-image'>\n        <img alt='здесь должна быть увеличенная картинка' className='popup__image' src={link} />\n        <figcaption className='popup__capture'>{name}</figcaption>\n        <button\n          type='button'\n          className='popup__close-icon popup__close-icon_image'\n          onClick={onClose}\n        />\n      </figure>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm({\n  name,\n  title,\n  isOpen,\n  onClose,\n  buttonText,\n  onSubmit,\n  children,\n  loadingIndicator,\n}) {\n  return (\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\n      <div className='popup__container'>\n        <h2 className='popup__title'>{title}</h2>\n        <form\n          action='#'\n          method='POST'\n          name='form'\n          className={`popup__form popup__form_${name}`}\n          onSubmit={onSubmit}\n          noValidate\n        >\n          {children}\n          <button\n            type='submit'\n            className={`popup__save-button popup__save-button_${name}`}\n            disabled={loadingIndicator}\n          >\n            {loadingIndicator ? 'Сохранение...' : buttonText}\n          </button>\n        </form>\n        <button\n          type='button'\n          className={`popup__close-icon popup__close-icon_${name}`}\n          onClick={onClose}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { UserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, loadingIndicator }) {\n  const userInfo = React.useContext(UserContext);\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(userInfo.name);\n    setDescription(userInfo.about);\n  }, [userInfo]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name='profile'\n      title='Редактировать профиль'\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonText={'Сохранить'}\n      onSubmit={handleSubmit}\n      loadingIndicator={loadingIndicator}\n    >\n      <>\n        <input\n          value={name || ''}\n          onChange={handleChangeName}\n          type='text'\n          name='name'\n          className='popup__form-input'\n          defaultValue='Жак-Ив Кусто'\n          required\n          autoComplete='off'\n          id='name-input'\n          placeholder='Имя'\n          minLength={2}\n          maxLength={40}\n          pattern='[А-ЯЁа-яёA-Za-z-–—\\s]*'\n        />\n        <span id='name-input-error' className='error' />\n        <input\n          value={description || ''}\n          onChange={handleChangeDescription}\n          type='text'\n          name='about'\n          className='popup__form-input'\n          defaultValue='Исследователь океана'\n          required\n          autoComplete='off'\n          id='job-input'\n          placeholder='Род деятельности'\n          minLength={2}\n          maxLength={200}\n        />\n        <span id='job-input-error' className='error' />\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, loadingIndicator }) {\n  const avatarInputRef = React.useRef();\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateAvatar({\n      avatarUrl: avatarInputRef.current.value,\n    });\n    avatarInputRef.current.value = '';\n  }\n\n  return (\n    <PopupWithForm\n      name='avatar'\n      title='Изменить аватар'\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonText={'Сохранить'}\n      onSubmit={handleSubmit}\n      loadingIndicator={loadingIndicator}\n    >\n      <>\n        <input\n          ref={avatarInputRef}\n          type='url'\n          name='link'\n          id='avatar-input'\n          className='popup__form-input single-input'\n          required\n          autoComplete='off'\n          placeholder='Вставьте ссылку'\n          minLength={2}\n        />\n        <span id='avatar-input-error' className='error' />\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, loadingIndicator }) {\n  const [title, setTitle] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleChangeTitle(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onAddPlace({\n      name: title,\n      link,\n    });\n    setTitle('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm\n      name='card'\n      title='Новое место'\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonText={'Создать'}\n      onSubmit={handleSubmit}\n      loadingIndicator={loadingIndicator}\n    >\n      <>\n        <input\n          value={title}\n          onChange={handleChangeTitle}\n          type='text'\n          name='title'\n          className='popup__form-input'\n          required\n          autoComplete='off'\n          id='title-input'\n          placeholder='Название'\n          minLength={1}\n          maxLength={30}\n        />\n        <span id='title-input-error' className='error' />\n        <input\n          value={link}\n          onChange={handleChangeLink}\n          type='url'\n          name='link'\n          className='popup__form-input'\n          required\n          autoComplete='off'\n          id='link-input'\n          placeholder='Ссылка на картинку'\n        />\n        <span id='link-input-error' className='error' />\n      </>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeletePopup({ isOpen, onClose, card, onDeleteCard, loadingIndicator }) {\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onDeleteCard(card);\n  }\n\n  return (\n    <PopupWithForm\n      name='delete-cards'\n      title='Вы уверены?'\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonText={'Да'}\n      onSubmit={handleSubmit}\n      loadingIndicator={loadingIndicator}\n    ></PopupWithForm>\n  );\n}\n\nexport default DeletePopup;\n","const baseUrl = 'http://api.white.students.nomoreparties.co';\n\n// const baseUrl = 'http://localhost:3000';\n\nexport { baseUrl };\n","import { baseUrl } from './constants.js';\n\nconst handleResponse = (result) => {\n  if (result.ok) {\n    return result.json();\n  } else {\n    return Promise.reject(`Ошибка: ${result.status}`);\n  }\n};\n\nclass Api {\n  getInitialCards() {\n    return fetch(`${baseUrl}/cards`, {\n      method: 'GET',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      },\n    }).then(handleResponse);\n  }\n\n  setUserUnfo(values) {\n    return fetch(`${baseUrl}/users/me`, {\n      method: 'PATCH',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      },\n      body: JSON.stringify({\n        name: values.name,\n        about: values.about,\n      }),\n    }).then(handleResponse);\n  }\n\n  addCards(values) {\n    return fetch(`${baseUrl}/cards`, {\n      method: 'POST',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      },\n      body: JSON.stringify({\n        name: values.name,\n        link: values.link,\n      }),\n    }).then(handleResponse);\n  }\n\n  likeCards(idCard) {\n    return fetch(`${baseUrl}/cards/likes/${idCard}`, {\n      method: 'PUT',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      },\n    }).then(handleResponse);\n  }\n\n  disLikeCards(idCard) {\n    return fetch(`${baseUrl}/cards/likes/${idCard}`, {\n      method: 'DELETE',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      },\n    }).then(handleResponse);\n  }\n\n  deleteCards(idCard, token) {\n    return fetch(`${baseUrl}/cards/${idCard}`, {\n      method: 'DELETE',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      },\n    }).then(handleResponse);\n  }\n\n  changeAvatar(values) {\n    return fetch(`${baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n      },\n      body: JSON.stringify({\n        avatar: values.avatarUrl,\n      }),\n    }).then(handleResponse);\n  }\n\n  register(email, password) {\n    return fetch(`${baseUrl}/signup`, {\n      method: 'POST',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n    })\n      .then((res) => {\n        return res.json();\n      })\n      .then((res) => {\n        return res;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  authorize(email, password) {\n    return fetch(`${baseUrl}/signin`, {\n      method: 'POST',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        localStorage.setItem('jwt', data.token);\n        return data;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  getContent(token) {\n    return fetch(`${baseUrl}/users/me`, {\n      method: 'GET',\n      // mode: 'no-cors',\n      headers: {\n        'Content-Type': 'application/json',\n        authorization: `Bearer ${token}`,\n      },\n    })\n      .then((res) => {\n        return res.json();\n      })\n      .then((data) => data)\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n}\n\nconst api = new Api();\n\nexport { api };\n","import React from 'react';\nimport { useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport { api } from '../utils/api.js';\n// import { register } from '../utils/mestoAuth.js';\n\nconst Register = ({ setIsRegisterPopupOpen, setOnFail }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const history = useHistory();\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    api\n      .register(email, password)\n      .then((res) => {\n        if (res.success) {\n          setIsRegisterPopupOpen(res);\n          setOnFail('');\n          history.push('/signin');\n        } else {\n          setIsRegisterPopupOpen(res);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <div className='auth'>\n      <h2 className='auth__title'>Регистрация</h2>\n      <form className='auth__form' onSubmit={handleSubmit}>\n        <input\n          className='auth__input'\n          type='email'\n          placeholder='Email'\n          required={true}\n          onChange={(evt) => setEmail(evt.target.value)}\n        />\n        <input\n          className='auth__input'\n          type='password'\n          placeholder='Пароль'\n          id='password_register'\n          pattern='^((?!\\s{2}).)*$'\n          required={true}\n          onChange={(evt) => setPassword(evt.target.value)}\n        />\n        <button type='submit' className='auth__submit-button'>\n          Зарегистрироваться\n        </button>\n        <Link className='auth__link-to-sign-in' to='/signin'>\n          Уже зарегистрированы? Войти\n        </Link>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n","import React from 'react';\nimport { useState } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport { api } from '../utils/api.js';\n// import { authorize } from '../utils/mestoAuth.js';\n\nfunction Login({ handleLogin, onFail, setOnFail }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const history = useHistory();\n\n  const resetForm = () => {\n    setEmail('');\n    setPassword('');\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    if (!email || !password) {\n      console.error('Не заполнены некоторые обязательные поля');\n    }\n\n    api\n      .authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          resetForm();\n          handleLogin();\n          setOnFail('');\n          history.push('/main');\n        } else if (data.message) {\n          setOnFail(data.message);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  return (\n    <div className='auth'>\n      <h2 className='auth__title'>Вход</h2>\n      <form className='auth__form' onSubmit={handleSubmit}>\n        <input\n          className='auth__input'\n          type='email'\n          required={true}\n          placeholder='Email'\n          onChange={(evt) => setEmail(evt.target.value)}\n        />\n        <div className='auth__input-container'>\n          <input\n            className='auth__input'\n            type='password'\n            placeholder='Пароль'\n            pattern='^((?!\\s{2}).)*$'\n            onChange={(evt) => setPassword(evt.target.value)}\n          />\n          <p className='auth__error-field'>{onFail}</p>\n        </div>\n        <button type='submit' className='auth__submit-button'>\n          Войти\n        </button>\n        <Link className='auth__link-to-sign-in' to='/signup'>\n          Ещё не зарегистрированы? Регистрация\n        </Link>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() => (props.loggedIn === true ? <Component {...props} /> : <Redirect to='./signin' />)}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport Error from '../images/Error.svg';\nimport Success from '../images/Success.svg';\n\nconst InfoTooltip = ({ isOpen, onClose }) => {\n  return (\n    <div className={`popup popup_type_tooltip ${isOpen ? 'popup_opened' : ''}`}>\n      <div className='popup__container popup__container_type_tooltip'>\n        <img\n          alt='тут должна быть иконка'\n          className='popup__image'\n          src={isOpen.success ? Success : Error}\n        />\n        <h2 className='popup__title popup__title_type_tooltip'>\n          {isOpen.success ? 'Вы успешно зарегистрировались!' : isOpen.message}\n        </h2>\n        <button\n          type='button'\n          className={`popup__close-icon popup__close-icon_tooltip`}\n          onClick={onClose}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default InfoTooltip;\n","import React from 'react';\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletePopup from './DeletePopup';\nimport Register from './Register';\nimport Login from './Login';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\n// import { getContent } from '../utils/mestoAuth.js';\nimport { api } from '../utils/api.js';\nimport { UserContext } from '../contexts/CurrentUserContext.js';\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n  const [onFail, setOnFail] = useState('');\n\n  const history = useHistory();\n\n  const tokenCheck = () => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      api\n        .getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setCurrentUser(res);\n            setLoggedIn(true);\n            setUserEmail(res.email);\n            history.push('/main');\n          } else {\n            setLoggedIn(false);\n            localStorage.removeItem('jwt');\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  useEffect(() => {\n    tokenCheck();\n  }, [loggedIn, history]);\n\n  // useEffect(() => {\n  //   Promise.all([api.getInitialCards(), api.getContent()])\n  //     .then(([cardItems, user]) => {\n  //       setCurrentUser(user)\n  //       setCards(cardItems);\n  //       console.log(currentUser)\n  //       console.log(cards)\n  //     }\n  //     )\n  //     .catch((err) => console.error(err));\n\n  // }, [loggedIn]);\n\n  const handleLogin = () => {\n    setLoggedIn(true);\n  };\n\n  function handleEditAvatarClick() {\n    //открывает попап с аватаром\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    //открывает попап с профилем\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    //открывает попап с добавлением карточки\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleDeleteCardsClick() {\n    //открывает попап с подтверждением удаления карточки\n    SetIsDeleteCardsPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    //открывает попап с увеличенной фотографией\n    setSelectedCard({\n      name: card.name,\n      link: card.link,\n    });\n  }\n\n  function closeAllPopups() {\n    //закрывает все попапы\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(null);\n    SetIsDeleteCardsPopupOpen(false);\n    setIsRegisterPopupOpen(false);\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false); // хуки состояния для открытия//закрытия попапов\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardsPopupOpen, SetIsDeleteCardsPopupOpen] = useState(false);\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = useState(false);\n\n  const [selectedCard, setSelectedCard] = useState(null); // хук состояния, запоминающий выбранную карточку, на фотографию которой нажали\n\n  const [currentUser, setCurrentUser] = useState({\n    // хук, содержащий информцию о пользователе\n    name: '',\n    about: '',\n    avatar: '',\n    _id: '',\n  });\n\n  React.useEffect(() => {\n    //получение карточек с сервера\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, [loggedIn]);\n\n  const [cards, setCards] = useState([]); // актуальный массив с карточками\n\n  function handleAddPlaceSubmit(values) {\n    //добавление новой карточки\n    setIsLoading(true);\n    api\n      .addCards(values)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleCardLike(props) {\n    //лайк/дизлайк карточки\n    setIsLoading(true);\n    const isLiked = props.likes.some((i) => i === currentUser._id);\n    const cardCallback = (newCard) => {\n      const newCards = cards.map((item) => (item._id === props._id ? newCard : item));\n      setCards(newCards);\n      setIsLoading(false);\n    };\n\n    if (!isLiked) {\n      api.likeCards(props._id).then(cardCallback);\n    } else {\n      api.disLikeCards(props._id).then(cardCallback);\n    }\n  }\n\n  const [deleteCard, setDeleteCard] = React.useState({});\n\n  function handleCardDelete(props) {\n    // удаление карточки\n    handleDeleteCardsClick();\n    setDeleteCard(props);\n    console.log(deleteCard);\n  }\n\n  function deletedCard(deletedCardId) {\n    // удаление карточки\n    setIsLoading(true);\n    api.deleteCards(deletedCardId).then(() => {\n      const newCards = cards.filter((card) => card._id != deletedCardId);\n      setCards(newCards);\n      setIsLoading(false);\n      closeAllPopups();\n    });\n  }\n\n  function handleUpdateUser(values) {\n    // изменение информции пользователя\n    setIsLoading(true);\n    api\n      .setUserUnfo(values)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleUpdateAvatar(values) {\n    // изменение аватара\n    setIsLoading(true);\n    api\n      .changeAvatar(values)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleLogout() {\n    setLoggedIn(false);\n    setCurrentUser({\n      name: '',\n      about: '',\n      avatar: '',\n      _id: '',\n    });\n    console.log(currentUser);\n  }\n\n  const [isloading, setIsLoading] = React.useState(false);\n\n  return (\n    <UserContext.Provider value={currentUser}>\n      <div className='body'>\n        <div className='page'>\n          <Header userEmail={userEmail} onQuit={handleLogout} />\n          <Switch>\n            <ProtectedRoute\n              path='/main'\n              loggedIn={loggedIn}\n              component={Main}\n              loadingIndicator={isloading}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardImageClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              cards={cards}\n            />\n            <Route path='/signup'>\n              <Register\n                setIsRegisterPopupOpen={setIsRegisterPopupOpen}\n                isOpen={isRegisterPopupOpen}\n                setOnFail={setOnFail}\n              />\n            </Route>\n            <Route path='/signin'>\n              <Login handleLogin={handleLogin} onFail={onFail} setOnFail={setOnFail} />\n            </Route>\n            <Route>{loggedIn ? <Redirect to='/main' /> : <Redirect to='/signin' />}</Route>\n          </Switch>\n          <Footer />\n\n          <InfoTooltip isOpen={isRegisterPopupOpen} onClose={closeAllPopups} />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            loadingIndicator={isloading}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            loadingIndicator={isloading}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            loadingIndicator={isloading}\n          />\n          <ImagePopup\n            selectedCard={selectedCard}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            loadingIndicator={isloading}\n          />\n          <DeletePopup\n            isOpen={isDeleteCardsPopupOpen}\n            onClose={closeAllPopups}\n            card={deleteCard}\n            onDeleteCard={deletedCard}\n            loadingIndicator={isloading}\n          />\n        </div>\n      </div>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}