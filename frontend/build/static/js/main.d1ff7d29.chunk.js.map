{"version":3,"sources":["images/logo.svg","images/delete.svg","images/Error.svg","images/Success.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletePopup.js","utils/constants.js","components/Register.js","utils/mestoAuth.js","components/Login.js","components/ProtectedRoute.js","components/InfoTooltip.js","utils/api.js","components/App.js","index.js"],"names":["module","exports","Header","userEmail","onQuit","history","useHistory","className","path","src","logo","alt","to","onClick","localStorage","removeItem","push","UserContext","React","createContext","Card","name","link","likes","owner","_id","onCardClick","onCardLike","onCardDelete","loadingIndicator","userInfo","useContext","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","deleteButton","type","disabled","length","Main","onEditProfile","onAddPlace","onEditAvatar","onCardImageClick","cards","avatar","about","map","props","key","Footer","ImagePopup","selectedCard","onClose","PopupWithForm","title","isOpen","buttonText","onSubmit","children","action","method","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","defaultValue","required","autoComplete","id","placeholder","minLength","maxLength","pattern","EditAvatarPopup","onUpdateAvatar","avatarInputRef","useRef","avatarUrl","current","ref","AddPlacePopup","setTitle","setLink","DeletePopup","card","onDeleteCard","headers","authorization","baseUrl","newBaseUrl","Register","setIsRegisterPopupOpen","setOnFail","email","setEmail","password","setPassword","evt","fetch","body","JSON","stringify","then","res","json","catch","err","console","log","register","data","Login","handleLogin","onFail","error","response","setItem","token","authorize","message","ProtectedRoute","Component","component","loggedIn","InfoTooltip","Success","Error","handleResponse","result","ok","Promise","reject","status","api","values","idCard","App","setLoggedIn","setUserEmail","tokenCheck","jwt","getItem","Authorization","closeAllPopups","setIsEditAvatarPopupOpen","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","setSelectedCard","SetIsDeleteCardsPopupOpen","isEditProfilePopupOpen","isAddPlacePopupOpen","isEditAvatarPopupOpen","isDeleteCardsPopupOpen","isRegisterPopupOpen","cohort","currentUser","setCurrentUser","userInfoProm","resolve","getUserInfo","cardsProm","getInitialCards","all","setCards","handleAddPlaceSubmit","setIsLoading","addCards","newCard","deleteCard","setDeleteCard","isloading","Provider","cardCallback","newCards","item","disLikeCards","likeCards","setUserUnfo","changeAvatar","deletedCard","deleteCards","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d1ff7d29.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete.9c3b03ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/Error.c32299fa.svg\";","module.exports = __webpack_public_path__ + \"static/media/Success.7fc4c149.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\nimport { Route, Link, useHistory } from 'react-router-dom';\r\n\r\nfunction Header({ userEmail, onQuit }) {\r\n  const history = useHistory();\r\n\r\n  const quit = () => {\r\n    onQuit();\r\n    localStorage.removeItem('jwt');\r\n    history.push('/login');\r\n  };\r\n\r\n  return (\r\n    <header className='header'>\r\n      <Route path='/signup'>\r\n        <img src={logo} alt='здесь должен быть логотип :)' className='header__logo' />\r\n        <Link className='header__caption' to='/signin'>\r\n          Войти\r\n        </Link>\r\n      </Route>\r\n      <Route path='/signin'>\r\n        <img src={logo} alt='здесь должен быть логотип :)' className='header__logo' />\r\n        <Link className='header__caption' to='/signup'>\r\n          Регистрация\r\n        </Link>\r\n      </Route>\r\n      <Route path='/main'>\r\n        <img src={logo} alt='здесь должен быть логотип :)' className='header__logo' />\r\n        <p className='header__user-email'>{userEmail}</p>\r\n        <Link className='header__caption' to='/signin' onClick={quit}>\r\n          Выйти\r\n        </Link>\r\n      </Route>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const UserContext = React.createContext();\r\n","import React from 'react';\r\nimport deleteButton from '../images/delete.svg';\r\nimport { UserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card({\r\n  name,\r\n  link,\r\n  likes,\r\n  owner,\r\n  _id,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n  loadingIndicator,\r\n}) {\r\n  const userInfo = React.useContext(UserContext);\r\n\r\n  const isOwn = owner._id === userInfo._id;\r\n  const cardDeleteButtonClassName = `element__delete ${\r\n    isOwn ? 'element__delete_visible' : 'element__delete_hidden'\r\n  }`;\r\n\r\n  const isLiked = likes.some((i) => i._id === userInfo._id);\r\n  const cardLikeButtonClassName = `element__like ${isLiked ? `element__like_active` : ''}`;\r\n\r\n  function handleClick() {\r\n    onCardClick({ name, link });\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike({ name, link, likes, owner, _id });\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete({ name, link, likes, owner, _id });\r\n  }\r\n\r\n  return (\r\n    <div className='element'>\r\n      <img\r\n        src={deleteButton}\r\n        alt='кнопка delete :)'\r\n        className={cardDeleteButtonClassName}\r\n        onClick={handleDeleteClick}\r\n      />\r\n      <img\r\n        alt='Упс, кажется вы вставили не рабочую ссылку'\r\n        className='element__photo'\r\n        src={link}\r\n        onClick={handleClick}\r\n      />\r\n      <div className='element__capture-container'>\r\n        <p className='element__capture'>{name}</p>\r\n        <div className='element__like-container'>\r\n          <button\r\n            type='button'\r\n            className={cardLikeButtonClassName}\r\n            onClick={handleLikeClick}\r\n            disabled={loadingIndicator}\r\n          />\r\n          <p className='element__like-counter'>{likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card';\r\nimport { UserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardImageClick,\r\n  onCardDelete,\r\n  onCardLike,\r\n  cards,\r\n  loadingIndicator,\r\n}) {\r\n  const userInfo = React.useContext(UserContext);\r\n\r\n  return (\r\n    <main className='content'>\r\n      <section className='profile'>\r\n        <div className='profile__avatar-wrapper' onClick={onEditAvatar}>\r\n          <div className='profile__avatar-overlay'></div>\r\n          <img\r\n            alt='здесь должна быть аватарка :)'\r\n            className='profile__avatar'\r\n            src={userInfo.avatar}\r\n          />\r\n        </div>\r\n        <div className='profile__info'>\r\n          <h2 className='profile__author'>{userInfo.name}</h2>\r\n          <button type='button' className='profile__edit-button' onClick={onEditProfile} />\r\n          <p className='profile__description'>{userInfo.about}</p>\r\n        </div>\r\n        <button type='button' className='profile__add-button' onClick={onAddPlace} />\r\n      </section>\r\n      <section className='elements'>\r\n        {cards.map(({ _id, ...props }) => (\r\n          <Card\r\n            key={_id}\r\n            _id={_id}\r\n            onCardClick={onCardImageClick}\r\n            onCardLike={onCardLike}\r\n            onCardDelete={onCardDelete}\r\n            loadingIndicator={loadingIndicator}\r\n            {...props}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__capture'>© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup({ selectedCard, onClose }) {\r\n  let name = '';\r\n  let link = '';\r\n  if (selectedCard) {\r\n    name = selectedCard.name;\r\n    link = selectedCard.link;\r\n  }\r\n\r\n  return (\r\n    <div className={`popup popup_type_image ${selectedCard ? 'popup_opened' : ''}`}>\r\n      <figure className='popup__container-image'>\r\n        <img alt='здесь должна быть увеличенная картинка' className='popup__image' src={link} />\r\n        <figcaption className='popup__capture'>{name}</figcaption>\r\n        <button\r\n          type='button'\r\n          className='popup__close-icon popup__close-icon_image'\r\n          onClick={onClose}\r\n        />\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm({\r\n  name,\r\n  title,\r\n  isOpen,\r\n  onClose,\r\n  buttonText,\r\n  onSubmit,\r\n  children,\r\n  loadingIndicator,\r\n}) {\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className='popup__container'>\r\n        <h2 className='popup__title'>{title}</h2>\r\n        <form\r\n          action='#'\r\n          method='POST'\r\n          name='form'\r\n          className={`popup__form popup__form_${name}`}\r\n          onSubmit={onSubmit}\r\n          noValidate\r\n        >\r\n          {children}\r\n          <button\r\n            type='submit'\r\n            className={`popup__save-button popup__save-button_${name}`}\r\n            disabled={loadingIndicator}\r\n          >\r\n            {loadingIndicator ? 'Сохранение...' : buttonText}\r\n          </button>\r\n        </form>\r\n        <button\r\n          type='button'\r\n          className={`popup__close-icon popup__close-icon_${name}`}\r\n          onClick={onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { UserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, loadingIndicator }) {\r\n  const userInfo = React.useContext(UserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(userInfo.name);\r\n    setDescription(userInfo.about);\r\n  }, [userInfo]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='profile'\r\n      title='Редактировать профиль'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText={'Сохранить'}\r\n      onSubmit={handleSubmit}\r\n      loadingIndicator={loadingIndicator}\r\n    >\r\n      <>\r\n        <input\r\n          value={name || ''}\r\n          onChange={handleChangeName}\r\n          type='text'\r\n          name='name'\r\n          className='popup__form-input'\r\n          defaultValue='Жак-Ив Кусто'\r\n          required\r\n          autoComplete='off'\r\n          id='name-input'\r\n          placeholder='Имя'\r\n          minLength={2}\r\n          maxLength={40}\r\n          pattern='[А-ЯЁа-яёA-Za-z-–—\\s]*'\r\n        />\r\n        <span id='name-input-error' className='error' />\r\n        <input\r\n          value={description || ''}\r\n          onChange={handleChangeDescription}\r\n          type='text'\r\n          name='about'\r\n          className='popup__form-input'\r\n          defaultValue='Исследователь океана'\r\n          required\r\n          autoComplete='off'\r\n          id='job-input'\r\n          placeholder='Род деятельности'\r\n          minLength={2}\r\n          maxLength={200}\r\n        />\r\n        <span id='job-input-error' className='error' />\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, loadingIndicator }) {\r\n  const avatarInputRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateAvatar({\r\n      avatarUrl: avatarInputRef.current.value,\r\n    });\r\n    avatarInputRef.current.value = '';\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='avatar'\r\n      title='Изменить аватар'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText={'Сохранить'}\r\n      onSubmit={handleSubmit}\r\n      loadingIndicator={loadingIndicator}\r\n    >\r\n      <>\r\n        <input\r\n          ref={avatarInputRef}\r\n          type='url'\r\n          name='link'\r\n          id='avatar-input'\r\n          className='popup__form-input single-input'\r\n          required\r\n          autoComplete='off'\r\n          placeholder='Вставьте ссылку'\r\n          minLength={2}\r\n        />\r\n        <span id='avatar-input-error' className='error' />\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, loadingIndicator }) {\r\n  const [title, setTitle] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleChangeTitle(e) {\r\n    setTitle(e.target.value);\r\n  }\r\n\r\n  function handleChangeLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onAddPlace({\r\n      name: title,\r\n      link,\r\n    });\r\n    setTitle('');\r\n    setLink('');\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='card'\r\n      title='Новое место'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText={'Создать'}\r\n      onSubmit={handleSubmit}\r\n      loadingIndicator={loadingIndicator}\r\n    >\r\n      <>\r\n        <input\r\n          value={title}\r\n          onChange={handleChangeTitle}\r\n          type='text'\r\n          name='title'\r\n          className='popup__form-input'\r\n          required\r\n          autoComplete='off'\r\n          id='title-input'\r\n          placeholder='Название'\r\n          minLength={1}\r\n          maxLength={30}\r\n        />\r\n        <span id='title-input-error' className='error' />\r\n        <input\r\n          value={link}\r\n          onChange={handleChangeLink}\r\n          type='url'\r\n          name='link'\r\n          className='popup__form-input'\r\n          required\r\n          autoComplete='off'\r\n          id='link-input'\r\n          placeholder='Ссылка на картинку'\r\n        />\r\n        <span id='link-input-error' className='error' />\r\n      </>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeletePopup({ isOpen, onClose, card, onDeleteCard, loadingIndicator }) {\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onDeleteCard(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='delete-cards'\r\n      title='Вы уверены?'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonText={'Да'}\r\n      onSubmit={handleSubmit}\r\n      loadingIndicator={loadingIndicator}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeletePopup;\r\n","const headers = {\r\n  authorization: '296925be-8e2c-44ab-b32c-580bcbc5c9b5',\r\n  'Content-Type': 'application/json',\r\n};\r\n\r\nconst baseUrl = 'https://mesto.nomoreparties.co/v1/cohort-13';\r\n\r\nconst newBaseUrl = 'http://localhost:3000/api';\r\n\r\nexport { headers, baseUrl, newBaseUrl };\r\n","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { register } from '../utils/mestoAuth.js';\r\n\r\nconst Register = ({ setIsRegisterPopupOpen, setOnFail }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n    register(email, password)\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.data) {\r\n          setIsRegisterPopupOpen(res);\r\n          setOnFail('');\r\n          history.push('/signin');\r\n        } else {\r\n          setIsRegisterPopupOpen(res);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <h2 className='auth__title'>Регистрация</h2>\r\n      <form className='auth__form' onSubmit={handleSubmit}>\r\n        <input\r\n          className='auth__input'\r\n          type='email'\r\n          placeholder='Email'\r\n          required={true}\r\n          onChange={(evt) => setEmail(evt.target.value)}\r\n        />\r\n        <input\r\n          className='auth__input'\r\n          type='password'\r\n          placeholder='Пароль'\r\n          required={true}\r\n          onChange={(evt) => setPassword(evt.target.value)}\r\n        />\r\n        <button type='submit' className='auth__submit-button'>\r\n          Зарегистрироваться\r\n        </button>\r\n        <Link className='auth__link-to-sign-in' to='/signin'>\r\n          Уже зарегистрированы? Войти\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import { newBaseUrl } from './constants';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${newBaseUrl}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .then((res) => {\r\n      return res;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${newBaseUrl}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      localStorage.setItem('jwt', data.token);\r\n      return data;\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${newBaseUrl}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .then((data) => data)\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { authorize } from '../utils/mestoAuth.js';\r\n\r\nfunction Login({ handleLogin, onFail, setOnFail }) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const resetForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  const handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    if (!email || !password) {\r\n      console.error('Не заполнены некоторые обязательные поля');\r\n    }\r\n\r\n    authorize(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          resetForm();\r\n          handleLogin();\r\n          setOnFail('');\r\n          history.push('/main');\r\n        } else if (data.message) {\r\n          setOnFail(data.message);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <h2 className='auth__title'>Вход</h2>\r\n      <form className='auth__form' onSubmit={handleSubmit}>\r\n        <input\r\n          className='auth__input'\r\n          type='email'\r\n          required={true}\r\n          placeholder='Email'\r\n          onChange={(evt) => setEmail(evt.target.value)}\r\n        />\r\n        <div className='auth__input-container'>\r\n          <input\r\n            className='auth__input'\r\n            type='password'\r\n            placeholder='Пароль'\r\n            onChange={(evt) => setPassword(evt.target.value)}\r\n          />\r\n          <p className='auth__error-field'>{onFail}</p>\r\n        </div>\r\n        <button type='submit' className='auth__submit-button'>\r\n          Войти\r\n        </button>\r\n        <Link className='auth__link-to-sign-in' to='/signup'>\r\n          Ещё не зарегистрированы? Регистрация\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() => (props.loggedIn === true ? <Component {...props} /> : <Redirect to='./signin' />)}\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\nimport Error from '../images/Error.svg';\r\nimport Success from '../images/Success.svg';\r\n\r\nconst InfoTooltip = ({ isOpen, onClose }) => {\r\n  return (\r\n    <div className={`popup popup_type_tooltip ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className='popup__container popup__container_type_tooltip'>\r\n        <img\r\n          alt='тут должна быть иконка'\r\n          className='popup__image'\r\n          src={isOpen.data ? Success : Error}\r\n        />\r\n        <h2 className='popup__title popup__title_type_tooltip'>\r\n          {isOpen.data ? 'Вы успешно зарегистрировались!' : isOpen.error}\r\n        </h2>\r\n        <button\r\n          type='button'\r\n          className={`popup__close-icon popup__close-icon_tooltip`}\r\n          onClick={onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoTooltip;\r\n","import { headers, baseUrl, newBaseUrl } from './constants.js';\r\n\r\nconst handleResponse = (result) => {\r\n  if (result.ok) {\r\n    return result.json();\r\n  } else {\r\n    return Promise.reject(`Ошибка: ${result.status}`);\r\n  }\r\n};\r\n\r\nclass Api {\r\n  getInitialCards() {\r\n    return fetch(`${baseUrl}/cards`, {\r\n      method: 'GET',\r\n      headers: headers,\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: headers,\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  setUserUnfo(values) {\r\n    return fetch(`${baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: headers,\r\n      body: JSON.stringify({\r\n        name: values.name,\r\n        about: values.about,\r\n      }),\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  addCards(values) {\r\n    return fetch(`${newBaseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: JSON.stringify({\r\n        name: values.name,\r\n        link: values.link,\r\n      }),\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  likeCards(idCard) {\r\n    return fetch(`${baseUrl}/cards/likes/${idCard}`, {\r\n      method: 'PUT',\r\n      headers: headers,\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  disLikeCards(idCard) {\r\n    return fetch(`${baseUrl}/cards/likes/${idCard}`, {\r\n      method: 'DELETE',\r\n      headers: headers,\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  deleteCards(idCard) {\r\n    return fetch(`${baseUrl}/cards/${idCard}`, {\r\n      method: 'DELETE',\r\n      headers: headers,\r\n    }).then(handleResponse);\r\n  }\r\n\r\n  changeAvatar(values) {\r\n    return fetch(`${baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: headers,\r\n      body: JSON.stringify({\r\n        avatar: values.avatarUrl,\r\n      }),\r\n    }).then(handleResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api();\r\n\r\nexport { api };\r\n","import React from 'react';\r\nimport { Route, Switch, useHistory, Redirect } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeletePopup from './DeletePopup';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport { getContent } from '../utils/mestoAuth.js';\r\nimport { api } from '../utils/api.js';\r\nimport { UserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction App() {\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [userEmail, setUserEmail] = useState('');\r\n  const [onFail, setOnFail] = useState('');\r\n\r\n  const history = useHistory();\r\n\r\n  const tokenCheck = () => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      getContent(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            setUserEmail(res.data.email);\r\n            history.push('/main');\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    tokenCheck();\r\n  }, [loggedIn]);\r\n\r\n  const handleLogin = () => {\r\n    setLoggedIn(true);\r\n  };\r\n\r\n  function handleEditAvatarClick() {\r\n    //открывает попап с аватаром\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    //открывает попап с профилем\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    //открывает попап с добавлением карточки\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleDeleteCardsClick() {\r\n    //открывает попап с подтверждением удаления карточки\r\n    SetIsDeleteCardsPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    //открывает попап с увеличенной фотографией\r\n    setSelectedCard({\r\n      name: card.name,\r\n      link: card.link,\r\n    });\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    //закрывает все попапы\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n    SetIsDeleteCardsPopupOpen(false);\r\n    setIsRegisterPopupOpen(false);\r\n  }\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false); // хуки состояния для открытия//закрытия попапов\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isDeleteCardsPopupOpen, SetIsDeleteCardsPopupOpen] = useState(false);\r\n  const [isRegisterPopupOpen, setIsRegisterPopupOpen] = useState(false);\r\n\r\n  const [selectedCard, setSelectedCard] = useState(null); // хук состояния, запоминающий выбранную карточку, на фотографию которой нажали\r\n\r\n  const [currentUser, setCurrentUser] = useState({\r\n    // хук, содержащий информцию о пользователе\r\n    name: '',\r\n    about: '',\r\n    avatar: '',\r\n    _id: '',\r\n    cohort: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    // получение объекта с информацией о пользователе\r\n    const userInfoProm = new Promise((resolve, reject) => {\r\n      api\r\n        .getUserInfo()\r\n        .then((res) => {\r\n          resolve(res);\r\n        })\r\n        .catch(() => {\r\n          reject(console.error('error'));\r\n        });\r\n    });\r\n\r\n    //получение карточек с сервера\r\n    const cardsProm = new Promise((resolve, reject) => {\r\n      api\r\n        .getInitialCards()\r\n        .then((data) => {\r\n          resolve(data);\r\n        })\r\n        .catch(() => {\r\n          reject(console.error('error'));\r\n        });\r\n    });\r\n\r\n    Promise.all([userInfoProm, cardsProm]).then((data) => {\r\n      setCurrentUser(data[0]);\r\n      setCards(data[1]);\r\n    });\r\n  }, []);\r\n\r\n  const [cards, setCards] = useState([]); // актуальный массив с карточками\r\n\r\n  function handleAddPlaceSubmit(values) {\r\n    //добавление новой карточки\r\n    setIsLoading(true);\r\n    api.addCards(values).then((newCard) => {\r\n      setCards([...cards, newCard]);\r\n      setIsLoading(false);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleCardLike(props) {\r\n    //лайк/дизлайк карточки\r\n    setIsLoading(true);\r\n    const isLiked = props.likes.some((i) => i._id === currentUser._id);\r\n\r\n    const cardCallback = (newCard) => {\r\n      const newCards = cards.map((item) => (item._id === props._id ? newCard : item));\r\n      setCards(newCards);\r\n      setIsLoading(false);\r\n    };\r\n\r\n    if (!isLiked) {\r\n      api.likeCards(props._id).then(cardCallback);\r\n    } else {\r\n      api.disLikeCards(props._id).then(cardCallback);\r\n    }\r\n  }\r\n\r\n  const [deleteCard, setDeleteCard] = React.useState({});\r\n\r\n  function handleCardDelete(props) {\r\n    // удаление карточки\r\n    handleDeleteCardsClick();\r\n    setDeleteCard(props);\r\n  }\r\n\r\n  function deletedCard(deletedCard) {\r\n    // удаление карточки\r\n    setIsLoading(true);\r\n    api.deleteCards(deletedCard._id).then(() => {\r\n      const newCards = cards.filter((card) => card._id != deletedCard._id);\r\n      setCards(newCards);\r\n      setIsLoading(false);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleUpdateUser(values) {\r\n    // изменение информции пользователя\r\n    setIsLoading(true);\r\n    api.setUserUnfo(values).then((res) => {\r\n      setCurrentUser(res);\r\n      setIsLoading(false);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(values) {\r\n    // изменение аватара\r\n    setIsLoading(true);\r\n    api.changeAvatar(values).then((res) => {\r\n      setCurrentUser(res);\r\n      setIsLoading(false);\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleLogout() {\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  const [isloading, setIsLoading] = React.useState(false);\r\n\r\n  return (\r\n    <UserContext.Provider value={currentUser}>\r\n      <div className='body'>\r\n        <div className='page'>\r\n          <Header userEmail={userEmail} onQuit={handleLogout} />\r\n          <Switch>\r\n            <ProtectedRoute\r\n              path='/main'\r\n              loggedIn={loggedIn}\r\n              component={Main}\r\n              loadingIndicator={isloading}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onCardImageClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n              cards={cards}\r\n            />\r\n            <Route path='/signup'>\r\n              <Register\r\n                setIsRegisterPopupOpen={setIsRegisterPopupOpen}\r\n                isOpen={isRegisterPopupOpen}\r\n                setOnFail={setOnFail}\r\n              />\r\n            </Route>\r\n            <Route path='/signin'>\r\n              <Login handleLogin={handleLogin} onFail={onFail} setOnFail={setOnFail} />\r\n            </Route>\r\n            <Route>{loggedIn ? <Redirect to='/main' /> : <Redirect to='/signin' />}</Route>\r\n          </Switch>\r\n          <Footer />\r\n\r\n          <InfoTooltip isOpen={isRegisterPopupOpen} onClose={closeAllPopups} />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n            loadingIndicator={isloading}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            loadingIndicator={isloading}\r\n          />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            loadingIndicator={isloading}\r\n          />\r\n          <ImagePopup\r\n            selectedCard={selectedCard}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            loadingIndicator={isloading}\r\n          />\r\n          <DeletePopup\r\n            isOpen={isDeleteCardsPopupOpen}\r\n            onClose={closeAllPopups}\r\n            card={deleteCard}\r\n            onDeleteCard={deletedCard}\r\n            loadingIndicator={isloading}\r\n          />\r\n        </div>\r\n      </div>\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n/// andrey@ya.ru\r\n/// 12345\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}